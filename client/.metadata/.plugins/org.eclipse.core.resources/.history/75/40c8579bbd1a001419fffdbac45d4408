package hsuan
{
    import flash.external.*;
    import flash.system.*;
    import flash.utils.*;

    public class XUtils extends Object
    {

        public function XUtils()
        {
            return;
        }// end function

        public static function getHqVar(param1:String = null, param2:ByteArray = null, param3:String = "gbk") : Array
        {
            var _loc_6:String = null;
            var _loc_7:Array = null;
            var _loc_10:ByteArray = null;
            var _loc_11:String = null;
            var _loc_12:String = null;
            var _loc_13:uint = 0;
            var _loc_14:String = null;
            if (param2)
            {
                _loc_10 = new ByteArray();
                _loc_10.writeBytes(param2);
                _loc_10.position = 0;
                param1 = _loc_10.readMultiByte(_loc_10.length, param3);
            }
            var _loc_4:* = param1.split("\";");
            if (!param1.split("\";") || _loc_4.length < 2)
            {
                return null;
            }
            var _loc_5:Array = [];
            var _loc_8:uint = 0;
            var _loc_9:* = _loc_4.length;
            while (_loc_8 < _loc_9)
            {
                
                _loc_6 = _loc_4[_loc_8];
                _loc_7 = _loc_6.split("\"");
                if (!_loc_7 || _loc_7.length < 2 || _loc_7[1].length < 1)
                {
                }
                else
                {
                    _loc_11 = _loc_7[0];
                    _loc_12 = _loc_7[1];
                    _loc_13 = _loc_11.indexOf("hq_str_");
                    var _loc_15:* = _loc_11.substring(_loc_13 + 7, (_loc_11.length - 1));
                    _loc_14 = _loc_11.substring(_loc_13 + 7, (_loc_11.length - 1));
                    var _loc_15:* = [_loc_14, _loc_12];
                    _loc_5[_loc_5.length] = [_loc_14, _loc_12];
                }
                _loc_8 = _loc_8 + 1;
            }
            return _loc_5;
        }// end function

        public static function getUrlParameters() : Object
        {
            var urlStr:String;
            var paramArr:Array;
            var len:int;
            var pos:int;
            var name:String;
            var value:String;
            var i:int;
            var params:Object;
            try
            {
                urlStr = ExternalInterface.call("function(){return location.search.substring(1);}");
            }
            catch (err:Error)
            {
            }
            if (urlStr)
            {
                paramArr = urlStr.split("&");
                len = paramArr.length;
                i;
                while (i < len)
                {
                    
                    pos = paramArr[i].indexOf("=");
                    if (pos != -1)
                    {
                        name = paramArr[i].substring(0, pos);
                        value = paramArr[i].substring((pos + 1));
                        params[name] = value;
                    }
                    i = (i + 1);
                }
            }
            return params;
        }// end function

        public static function getPlayerVer() : void
        {
            var _loc_1:* = Capabilities.version.split(/[,\ ]/);
            var _loc_2:* = _loc_1[0];
            var _loc_3:* = _loc_1[1];
            var _loc_4:* = _loc_1[2];
            var _loc_5:* = _loc_1[3];
            var _loc_6:* = _loc_1[4];
            trace(_loc_3, _loc_4, _loc_5, _loc_6);
            return;
        }// end function

    }
}
