package com.ui
{
    import flash.display.*;
    import flash.events.*;
    import flash.geom.*;

    public class PopoutPanel extends Sprite
    {
        private var _closeApi:Function;
        private const _PANEL_TOP_H:uint = 70;
        private var _cfg:Config;
        private var _h:uint = 345;
        private const _BORDER_COLOR:uint = 13361904;
        private var _w:uint = 430;

        public function PopoutPanel(param1:Function)
        {
            this._cfg = Config.getInstance();
            this._closeApi = param1;
            this.drawOutBorder();
            this.drawTop();
            this.drawCloseBtn();
            this.drawMainPanel();
            return;
        }// end function

        private function drawMainPanel() : void
        {
            var _loc_1:* = new Matrix();
            _loc_1.createGradientBox(this._w, this._h - this._PANEL_TOP_H, Math.PI * 0.5);
            graphics.beginGradientFill("linear", [16711422, 15595263], [1, 1], [0, 255], _loc_1);
            graphics.drawRect(0, this._PANEL_TOP_H, this._w, this._h - this._PANEL_TOP_H);
            graphics.endFill();
            return;
        }// end function

        private function drawTop() : void
        {
            var _loc_1:* = new Matrix();
            _loc_1.createGradientBox(this._w, this._PANEL_TOP_H, Math.PI * 0.5);
            graphics.beginGradientFill("linear", [15595263, 14674937], [1, 1], [0, 255], _loc_1);
            graphics.drawRect(0, 0, this._w, this._PANEL_TOP_H);
            graphics.endFill();
            return;
        }// end function

        private function drawOutBorder() : void
        {
            graphics.lineStyle(0, this._BORDER_COLOR);
            graphics.drawRect(0, 0, this._w, this._h);
            return;
        }// end function

        private function drawCloseBtn() : void
        {
            var btnWH:uint;
            var closeBtn:* = new Sprite();
            closeBtn.buttonMode = true;
            closeBtn.graphics.lineStyle(0, 12764353);
            closeBtn.graphics.beginFill(16777215);
            closeBtn.graphics.drawRoundRect(0, 0, btnWH, btnWH, 5);
            closeBtn.graphics.endFill();
            var closeSize:uint;
            closeBtn.graphics.lineStyle(0, 5608380);
            closeBtn.graphics.moveTo(closeSize, closeSize);
            closeBtn.graphics.lineTo(btnWH - closeSize, btnWH - closeSize);
            closeBtn.graphics.moveTo(btnWH - closeSize, closeSize);
            closeBtn.graphics.lineTo(closeSize, btnWH - closeSize);
            closeBtn.addEventListener(MouseEvent.CLICK, function (event:MouseEvent) : void
            {
                _closeApi();
                return;
            }// end function
            );
            closeBtn.x = this._w - 20;
            closeBtn.y = 7;
            addChild(closeBtn);
            return;
        }// end function

    }
}
